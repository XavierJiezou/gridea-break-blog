<!doctype html>
<html amp lang="">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°" />
<link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js">
<link rel="preconnect dns-prefetch" href="https://cdn.jsdelivr.net/" crossorigin>
<script async src="https://cdn.ampproject.org/v0.js"></script>
<title>XavierJiezou</title>


  

    


<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<link rel="canonical" href="https://xavierjiezou.github.io" />
<link rel="shortcut icon" href="https://xavierjiezou.github.io/favicon.ico?v=1641356253016">

<meta name="author" content="">

<meta itemprop="name" content="XavierJiezou">
<meta itemprop="description" content="æ¸©æ•…è€ŒçŸ¥æ–°">
<meta itemprop="image" content="">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="XavierJiezou">
<meta name="twitter:description" content="æ¸©æ•…è€ŒçŸ¥æ–°">
<meta name="twitter:image" content="" />
<meta name="twitter:image:alt" content="XavierJiezou" />


<meta property="og:type" content="website">
<meta property="og:url" content="https://xavierjiezou.github.io">
<meta property="og:title" content="XavierJiezou">
<meta property="og:description" content="æ¸©æ•…è€ŒçŸ¥æ–°">
<meta property="og:image" content="">
<meta property="og:image:alt" content="XavierJiezou" />
<meta property="og:site_name" content="XavierJiezou">
<meta property="og:locale" content="zh_CN">
<meta property="tag" content="XavierJiezou" />






<link rel="alternate" type="application/atom+xml" title="XavierJiezou - Atom Feed" href="https://xavierjiezou.github.io/atom.xml">

      
      


</head>

<body class="home blog">
  <input type="checkbox" id="header-menu-button">
  <header id="commonTop">
  <div class="top-container">
    <div class="title-menus-area">
      <a class="blog-title" href="https://xavierjiezou.github.io">XavierJiezou</a>
      <label for="header-menu-button" class="top-menus">
        <nav class="menu-menu-1-container">
          <ul id="menu-menu-1" class="menu">
            
            
            <li>
              <a href="/" aria-current="page">é¦–é¡µ</a></li>
            
            
            
            <li>
              <a href="/archives" aria-current="page">å½’æ¡£</a></li>
            
            
            
            <li>
              <a href="/tags" aria-current="page">æ ‡ç­¾</a></li>
            
            
            
            <li>
              <a href="/post/about" aria-current="page">å…³äº</a></li>
            
            
          </ul>
        </nav>
      </label>
    </div>
    
  </div>
</header>

  <main>
    <div class="main-container">
  <div class="post-list">
    
    <article class="list-box post type-post status-publish format-standard has-post-thumbnail hentry category-xiaoqiao">
      
      <a href="https://xavierjiezou.github.io/post/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man/" class="title-img">
        <amp-img class="contain" src="https://xavierjiezou.github.io/post-images/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man.png" layout="fill" alt="ã€Pythonã€‘ä¸ºä»€ä¹ˆå¤šçº¿ç¨‹å¹¶è¡Œä¸å¿«åæ…¢ï¼Ÿ"></amp-img>
      </a>
      

      <div class="post-info">
        
        <div class="flex-box meta-category">
          <a class="post-cate" href="https://xavierjiezou.github.io/tag/2u-SDzgjO/">python</a></div>
        
        <h2 class="post-title">
          <a href="https://xavierjiezou.github.io/post/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man/">ã€Pythonã€‘ä¸ºä»€ä¹ˆå¤šçº¿ç¨‹å¹¶è¡Œä¸å¿«åæ…¢ï¼Ÿ</a>
        </h2>
        <div class="post-excerpt">
          <h1 id="é¡¹ç›®åœºæ™¯">é¡¹ç›®åœºæ™¯</h1>
<p>è¿™é‡Œæœ‰ä¸ªè¯ä»¶ç…§æ¢åº•çš„éœ€æ±‚ï¼šå°†å›¾åƒçš„é€æ˜åº•è‰²æ¢ä¸ºçº¢è‰²èƒŒæ™¯ã€‚å…¶é€»è¾‘æ˜¯ç”¨ä¸€ä¸ªåµŒå¥—çš„ for å¾ªç¯åˆ†åˆ«éå†å›¾åƒçš„è¡Œå’Œåˆ—ï¼Œåˆ¤æ–­æ¯ä¸€ä¸ªä½ç½®çš„åƒç´ ç‚¹æ˜¯å¦æ˜¯é€æ˜çš„ï¼Œå¦‚æœæ˜¯ï¼Œæ¢æˆçº¢è‰²èƒŒæ™¯ï¼›å¦‚æœä¸æ˜¯ï¼Œåˆ™ä¸åšä»»ä½•ä¿®æ”¹ã€‚ä½†ç›®å‰çš„é—®é¢˜æ˜¯é€Ÿåº¦æœ‰ç‚¹æ…¢ï¼Œéœ€è¦åšå¹¶è¡ŒåŠ é€Ÿã€‚æˆ‘ä»¬ç”¨ Python è‡ªå¸¦çš„å¤šçº¿ç¨‹æ± è¿›è¡Œä¼˜åŒ–ï¼Œä¼˜åŒ–ç¨‹åºçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">&quot;&quot;&quot;å®‰è£…ä¾èµ–æ¨¡å—
pip install numpy opencv-python tqdm
&quot;&quot;&quot;
import time
import numpy as np
from cv2 import cv2
from tqdm import tqdm
import concurrent.futures as cf


class ChangeBackgroundColor():
    &quot;&quot;&quot;ä¿®æ”¹å›¾ç‰‡èƒŒæ™¯çš„ç±»ï¼ˆé»˜è®¤å°†é€æ˜èƒŒæ™¯ä¿®æ”¹ä¸ºçº¢è‰²èƒŒæ™¯ï¼‰

    Args:
        root (str): è¾“å…¥å›¾ç‰‡çš„è·¯å¾„
    &quot;&quot;&quot;
    def __init__(self, root: str):
        &quot;&quot;&quot;ç±»çš„åˆå§‹åŒ–å‡½æ•°

        Args:
            root (str): è¾“å…¥å›¾ç‰‡çš„è·¯å¾„
        &quot;&quot;&quot;
        self.image_original = cv2.imread(root, cv2.IMREAD_UNCHANGED)
        self.rows, self.cols, _ = self.image_original.shape
        self.serial()
        self.parallel()

    def serial(self):
        &quot;&quot;&quot;ä¸²è¡Œç¨‹åº
        &quot;&quot;&quot;
        t1 = time.time()
        for i in tqdm(range(self.rows), desc='Serial-Time'):
            for j in range(self.cols):
                if (self.image_original[i][j] == np.zeros(4)).all():
                    self.image_original[i][j] = np.array([0, 0, 255, 255])
                else:
                    pass
        t2 = time.time()
        cv2.imwrite('./red.png', self.image_original)

    def __temp__(self, i, pbar):
        &quot;&quot;&quot;å¹¶è¡Œç¨‹åºä¾èµ–çš„ä¸´æ—¶å‡½æ•°

        Args:
            i (int): å›¾ç‰‡çŸ©é˜µçš„è¡Œç´¢å¼•
            pbar (tqdm()): tqdmçš„è¿›åº¦æ¡å®ä¾‹
        &quot;&quot;&quot;
        for j in range(self.cols):
            if (self.image_original[i][j] == np.zeros(4)).all():
                self.image_original[i][j] = np.array([0, 0, 255, 255]) # å›¾ç‰‡èƒŒæ™¯ä¿®æ”¹ä¸ºçº¢è‰² | æ³¨æ„OPENCVçš„é€šé“æ˜¯BGR
            else:
                pass
        pbar.update()

    def parallel(self):
        &quot;&quot;&quot;å¹¶è¡Œç¨‹åº
        &quot;&quot;&quot;
        t1 = time.time()
        with tqdm(total=self.rows, desc='Parallel-Time') as pbar:
            with cf.ThreadPoolExecutor() as tp:
                for i in range(self.rows):
                    tp.submit(self.__temp__, i, pbar)
        t2 = time.time()
        cv2.imwrite('./red.png', self.image_original)


if __name__ == '__main__':
    ChangeBackgroundColor('./original.png')
</code></pre>
<h1 id="æµ‹è¯•æ ·ä¾‹">æµ‹è¯•æ ·ä¾‹</h1>
<h2 id="æ ·ä¾‹è¾“å…¥">æ ·ä¾‹è¾“å…¥</h2>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/bdaf7a8578dd443b90e973dcd72a6573.png?x-oss-process=imag,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAWGF2aWVyIEppZXpvdQ==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></figure>
<h2 id="æ ·ä¾‹è¾“å‡º">æ ·ä¾‹è¾“å‡º</h2>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/5f425e8e29444c5bbf9454dd49aa3807.png?x-oss-process=image,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAWGF2aWVyIEppZXpvdQ==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></figure>
<h1 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h1>
<p>ä»£ç å‘½åå·²ç»åšäº†å¤šçº¿ç¨‹å¹¶è¡Œä¼˜åŒ–ï¼Œä½†é€Ÿåº¦ä¸ä½†æ²¡æœ‰æå‡ï¼Œåè€Œä¸‹é™äº†ï¼Ÿï¼Ÿ</p>
<p><mark>ä¸²è¡Œåœ¨æˆ‘è‡ªå·±ç”µè„‘ä¸Šæµ‹è¯•çš„æ˜¯8sï¼Œå¹¶è¡Œæµ‹è¯•çš„æ˜¯23sã€‚</mark></p>
<h1 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h1>
<p>ä¼šä¸ä¼šæ˜¯ Python å…¨å±€è§£é‡Šé”ï¼ˆGILï¼‰çš„é—®é¢˜ï¼Ÿ</p>
<p><mark>ï¼ˆå¾…è§£å†³â€¦â€¦ï¼‰</mark></p>

        </div>
        <div class="flex-box justify-between">
          <a href="https://xavierjiezou.github.io/post/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man/" class="read-more">é˜…è¯»æ›´å¤š<span class="iconfont icon-ml-readmore">î™‰</span></a>
          <div class="flex-box post-meta-box">
            <a class="post-meta" href="https://xavierjiezou.github.io/post/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man/#comments"><span class="iconfont icon-mr-postmeta">î˜°</span></a>
            <a class="post-meta" href="https://xavierjiezou.github.io/post/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man/"><span class="iconfont icon-mr-postmeta">î˜®</span></a>
            <a class="post-meta" href="https://xavierjiezou.github.io/post/python-wei-shi-me-duo-xian-cheng-bing-xing-bu-kuai-fan-man/"><span
                class="iconfont icon-mr-postmeta icon-like-sp">î™Š</span></a>
          </div>

          <div class="flex-box post-publish-date">
            <div class="post-date">
              05
            </div>
            <div class="post-month">
              1æœˆ                            
            </div>  
          </div>

        </div>

      </div>
    </article>
    
    <article class="list-box post type-post status-publish format-standard has-post-thumbnail hentry category-xiaoqiao">
      
      <a href="https://xavierjiezou.github.io/post/hello-gridea/" class="title-img">
        <amp-img class="contain" src="https://xavierjiezou.github.io/post-images/hello-gridea.png" layout="fill" alt="Hello Gridea"></amp-img>
      </a>
      

      <div class="post-info">
        
        <div class="flex-box meta-category">
          <a class="post-cate" href="https://xavierjiezou.github.io/tag/2QJsGIJaG/">Gridea</a></div>
        
        <h2 class="post-title">
          <a href="https://xavierjiezou.github.io/post/hello-gridea/">Hello Gridea</a>
        </h2>
        <div class="post-excerpt">
          <p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>

        </div>
        <div class="flex-box justify-between">
          <a href="https://xavierjiezou.github.io/post/hello-gridea/" class="read-more">é˜…è¯»æ›´å¤š<span class="iconfont icon-ml-readmore">î™‰</span></a>
          <div class="flex-box post-meta-box">
            <a class="post-meta" href="https://xavierjiezou.github.io/post/hello-gridea/#comments"><span class="iconfont icon-mr-postmeta">î˜°</span></a>
            <a class="post-meta" href="https://xavierjiezou.github.io/post/hello-gridea/"><span class="iconfont icon-mr-postmeta">î˜®</span></a>
            <a class="post-meta" href="https://xavierjiezou.github.io/post/hello-gridea/"><span
                class="iconfont icon-mr-postmeta icon-like-sp">î™Š</span></a>
          </div>

          <div class="flex-box post-publish-date">
            <div class="post-date">
              12
            </div>
            <div class="post-month">
              12æœˆ                            
            </div>  
          </div>

        </div>

      </div>
    </article>
    

  </div>
  <div>
    <nav class="navigation pagination" role="navigation" aria-label="æ–‡ç« ">
      <h2 class="screen-reader-text">æ–‡ç« å¯¼èˆª</h2>
      <div class="nav-links">
        
        
      </div>
    </nav>
  </div>
</div>
    <div class="sidebar">
  <aside id="profile-2" class="widget widget_profile">
    <div class="profile-box">
      <div class="profile-avatar">
        <amp-img src="https://xavierjiezou.github.io/images/avatar.png?v=1641356253016" alt="avatar"
          layout="fill"></amp-img>
      </div>
      <div class="profile-content">
        <div class="amp-wp-681d4ff">
          æ¸©æ•…è€ŒçŸ¥æ–°
        </div>

      </div>
    </div>
  </aside>
  
    

    

   

  <aside id="linkcat-2" class="widget widget_links">
  <h4 class="widget-title">å‹é“¾</h4>
  <ul class="xoxo blogroll">
    
  </ul>
</aside>


</div>
    <div class="scrolltop-wrap">
  <span tabindex="0" role="button" class="go-top" on="tap:commonTop.scrollTo(duration=500, position=top)">
    <span class="iconfont">î˜¸</span>
  </span>
</div>

    
  </main>

  <footer>
  <div class="footer-container">
    <div class="footer-menus">
    </div>
    <div class="footer-copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
      
      

    </div>
  </div>
</footer>

  
  

</body>

</html>